!function(e,A,n){function o(e,A){return typeof e===A}function a(e){var A=u.className,n=l._config.classPrefix||"";if(c&&(A=A.baseVal),l._config.enableJSClass){var o=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");A=A.replace(o,"$1"+n+"js$2")}l._config.enableClasses&&(A+=" "+n+e.join(" "+n),c?u.className.baseVal=A:u.className=A)}function t(e,A){if("object"==typeof e)for(var n in e)f(e,n)&&t(n,e[n]);else{e=e.toLowerCase();var o=e.split("."),i=l[o[0]];if(2==o.length&&(i=i[o[1]]),void 0!==i)return l;A="function"==typeof A?A():A,1==o.length?l[o[0]]=A:(!l[o[0]]||l[o[0]]instanceof Boolean||(l[o[0]]=new Boolean(l[o[0]])),l[o[0]][o[1]]=A),a([(A&&0!=A?"":"no-")+o.join("-")]),l._trigger(e,A)}return l}var i=[],s=[],r={_version:"3.5.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,A){var n=this;setTimeout(function(){A(n[e])},0)},addTest:function(e,A,n){s.push({name:e,fn:A,options:n})},addAsyncTest:function(e){s.push({name:null,fn:e})}},l=function(){};l.prototype=r,l=new l;var f,u=A.documentElement,c="svg"===u.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;f=o(e,"undefined")||o(e.call,"undefined")?function(e,A){return A in e&&o(e.constructor.prototype[A],"undefined")}:function(A,n){return e.call(A,n)}}(),r._l={},r.on=function(e,A){this._l[e]||(this._l[e]=[]),this._l[e].push(A),l.hasOwnProperty(e)&&setTimeout(function(){l._trigger(e,l[e])},0)},r._trigger=function(e,A){if(this._l[e]){var n=this._l[e];setTimeout(function(){var e;for(e=0;e<n.length;e++)(0,n[e])(A)},0),delete this._l[e]}},l._q.push(function(){r.addTest=t}),l.addAsyncTest(function(){function e(e,A,n){function o(A){var o=!(!A||"load"!==A.type)&&1==a.width;t(e,"webp"===e&&o?new Boolean(o):o),n&&n(A)}var a=new Image;a.onerror=o,a.onload=o,a.src=A}var A=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],n=A.shift();e(n.name,n.uri,function(n){if(n&&"load"===n.type)for(var o=0;o<A.length;o++)e(A[o].name,A[o].uri)})}),function(){var e,A,n,a,t,r,f;for(var u in s)if(s.hasOwnProperty(u)){if(e=[],A=s[u],A.name&&(e.push(A.name.toLowerCase()),A.options&&A.options.aliases&&A.options.aliases.length))for(n=0;n<A.options.aliases.length;n++)e.push(A.options.aliases[n].toLowerCase());for(a=o(A.fn,"function")?A.fn():A.fn,t=0;t<e.length;t++)r=e[t],f=r.split("."),1===f.length?l[f[0]]=a:(!l[f[0]]||l[f[0]]instanceof Boolean||(l[f[0]]=new Boolean(l[f[0]])),l[f[0]][f[1]]=a),i.push((a?"":"no-")+f.join("-"))}}(),a(i),delete r.addTest,delete r.addAsyncTest;for(var p=0;p<l._q.length;p++)l._q[p]();e.Modernizr=l}(window,document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVybml6cl9jdXN0b20uanMiXSwibmFtZXMiOlsid2luZG93IiwiZG9jdW1lbnQiLCJ1bmRlZmluZWQiLCJpcyIsIm9iaiIsInR5cGUiLCJzZXRDbGFzc2VzIiwiY2xhc3NlcyIsImNsYXNzTmFtZSIsImRvY0VsZW1lbnQiLCJjbGFzc1ByZWZpeCIsIk1vZGVybml6ciIsIl9jb25maWciLCJpc1NWRyIsImJhc2VWYWwiLCJlbmFibGVKU0NsYXNzIiwicmVKUyIsIlJlZ0V4cCIsInJlcGxhY2UiLCJlbmFibGVDbGFzc2VzIiwiam9pbiIsImFkZFRlc3QiLCJmZWF0dXJlIiwidGVzdCIsImtleSIsImhhc093blByb3AiLCJ0b0xvd2VyQ2FzZSIsImZlYXR1cmVOYW1lU3BsaXQiLCJzcGxpdCIsImxhc3QiLCJsZW5ndGgiLCJCb29sZWFuIiwiX3RyaWdnZXIiLCJ0ZXN0cyIsIk1vZGVybml6clByb3RvIiwiX3ZlcnNpb24iLCJ1c2VQcmVmaXhlcyIsIl9xIiwib24iLCJjYiIsInNlbGYiLCJ0aGlzIiwic2V0VGltZW91dCIsIm5hbWUiLCJmbiIsIm9wdGlvbnMiLCJwdXNoIiwiYWRkQXN5bmNUZXN0IiwicHJvdG90eXBlIiwiZG9jdW1lbnRFbGVtZW50Iiwibm9kZU5hbWUiLCJfaGFzT3duUHJvcGVydHkiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJvYmplY3QiLCJwcm9wZXJ0eSIsImNvbnN0cnVjdG9yIiwiX2wiLCJyZXMiLCJjYnMiLCJpIiwidXJpIiwiYWRkUmVzdWx0IiwiZXZlbnQiLCJyZXN1bHQiLCJpbWFnZSIsIndpZHRoIiwiSW1hZ2UiLCJvbmVycm9yIiwib25sb2FkIiwic3JjIiwid2VicFRlc3RzIiwid2VicCIsInNoaWZ0IiwiZSIsImZlYXR1cmVOYW1lcyIsImFsaWFzSWR4IiwibmFtZUlkeCIsImZlYXR1cmVOYW1lIiwiZmVhdHVyZUlkeCIsImFsaWFzZXMiXSwibWFwcGluZ3MiOiJDQXdCQyxTQUFVQSxFQUFRQyxFQUFVQyxHQTRFM0IsUUFBU0MsR0FBR0MsRUFBS0MsR0FDZixhQUFjRCxLQUFRQyxFQXNHeEIsUUFBU0MsR0FBV0MsR0FDbEIsR0FBSUMsR0FBWUMsRUFBV0QsVUFDdkJFLEVBQWNDLEVBQVVDLFFBQVFGLGFBQWUsRUFRbkQsSUFOSUcsSUFDRkwsRUFBWUEsRUFBVU0sU0FLcEJILEVBQVVDLFFBQVFHLGNBQWUsQ0FDbkMsR0FBSUMsR0FBTyxHQUFJQyxRQUFPLFVBQVlQLEVBQWMsZUFDaERGLEdBQVlBLEVBQVVVLFFBQVFGLEVBQU0sS0FBT04sRUFBYyxRQUd2REMsRUFBVUMsUUFBUU8sZ0JBRXBCWCxHQUFhLElBQU1FLEVBQWNILEVBQVFhLEtBQUssSUFBTVYsR0FDaERHLEVBQ0ZKLEVBQVdELFVBQVVNLFFBQVVOLEVBRS9CQyxFQUFXRCxVQUFZQSxHQTJMN0IsUUFBU2EsR0FBUUMsRUFBU0MsR0FFeEIsR0FBc0IsZ0JBQVhELEdBQ1QsSUFBSyxHQUFJRSxLQUFPRixHQUNWRyxFQUFXSCxFQUFTRSxJQUN0QkgsRUFBUUcsRUFBS0YsRUFBU0UsUUFHckIsQ0FFTEYsRUFBVUEsRUFBUUksYUFDbEIsSUFBSUMsR0FBbUJMLEVBQVFNLE1BQU0sS0FDakNDLEVBQU9sQixFQUFVZ0IsRUFBaUIsR0FPdEMsSUFKK0IsR0FBM0JBLEVBQWlCRyxTQUNuQkQsRUFBT0EsRUFBS0YsRUFBaUIsU0FHWixLQUFSRSxFQU1ULE1BQU9sQixFQUdUWSxHQUFzQixrQkFBUkEsR0FBcUJBLElBQVNBLEVBR2IsR0FBM0JJLEVBQWlCRyxPQUNuQm5CLEVBQVVnQixFQUFpQixJQUFNSixJQUc3QlosRUFBVWdCLEVBQWlCLEtBQVNoQixFQUFVZ0IsRUFBaUIsYUFBZUksV0FDaEZwQixFQUFVZ0IsRUFBaUIsSUFBTSxHQUFJSSxTQUFRcEIsRUFBVWdCLEVBQWlCLE1BRzFFaEIsRUFBVWdCLEVBQWlCLElBQUlBLEVBQWlCLElBQU1KLEdBSXhEakIsSUFBZWlCLEdBQWdCLEdBQVJBLEVBQWdCLEdBQUssT0FBU0ksRUFBaUJQLEtBQUssT0FHM0VULEVBQVVxQixTQUFTVixFQUFTQyxHQUc5QixNQUFPWixHQW5iVCxHQUFJSixNQUdBMEIsS0FXQUMsR0FFRkMsU0FBVSxRQUlWdkIsU0FDRUYsWUFBZSxHQUNmUyxlQUFpQixFQUNqQkosZUFBaUIsRUFDakJxQixhQUFlLEdBSWpCQyxNQUdBQyxHQUFJLFNBQVNmLEVBQU1nQixHQU9qQixHQUFJQyxHQUFPQyxJQUNYQyxZQUFXLFdBQ1RILEVBQUdDLEVBQUtqQixLQUNQLElBR0xGLFFBQVMsU0FBU3NCLEVBQU1DLEVBQUlDLEdBQzFCWixFQUFNYSxNQUFNSCxLQUFNQSxFQUFNQyxHQUFJQSxFQUFJQyxRQUFTQSxLQUczQ0UsYUFBYyxTQUFTSCxHQUNyQlgsRUFBTWEsTUFBTUgsS0FBTSxLQUFNQyxHQUFJQSxNQU81QmpDLEVBQVksWUFDaEJBLEdBQVVxQyxVQUFZZCxFQUl0QnZCLEVBQVksR0FBSUEsRUE4RmhCLElBOERJYyxHQTlEQWhCLEVBQWFSLEVBQVNnRCxnQkFVdEJwQyxFQUE4QyxRQUF0Q0osRUFBV3lDLFNBQVN4QixlQXNEaEMsV0FDRSxHQUFJeUIsTUFBdUJDLGNBVXpCM0IsR0FOR3RCLEVBQUdnRCxFQUFpQixjQUFpQmhELEVBQUdnRCxFQUFnQkUsS0FBTSxhQU1wRCxTQUFTQyxFQUFRQyxHQUM1QixNQUFTQSxLQUFZRCxJQUFXbkQsRUFBR21ELEVBQU9FLFlBQVlSLFVBQVVPLEdBQVcsY0FOaEUsU0FBU0QsRUFBUUMsR0FDNUIsTUFBT0osR0FBZ0JFLEtBQUtDLEVBQVFDLE9BYzFDckIsRUFBZXVCLE1BMEJmdkIsRUFBZUksR0FBSyxTQUFTaEIsRUFBU2lCLEdBRS9CRSxLQUFLZ0IsR0FBR25DLEtBQ1htQixLQUFLZ0IsR0FBR25DLE9BSVZtQixLQUFLZ0IsR0FBR25DLEdBQVN3QixLQUFLUCxHQUdsQjVCLEVBQVV5QyxlQUFlOUIsSUFFM0JvQixXQUFXLFdBQ1QvQixFQUFVcUIsU0FBU1YsRUFBU1gsRUFBVVcsS0FDckMsSUFpQlBZLEVBQWVGLFNBQVcsU0FBU1YsRUFBU29DLEdBQzFDLEdBQUtqQixLQUFLZ0IsR0FBR25DLEdBQWIsQ0FJQSxHQUFJcUMsR0FBTWxCLEtBQUtnQixHQUFHbkMsRUFHbEJvQixZQUFXLFdBQ1QsR0FBSWtCLEVBQ0osS0FBS0EsRUFBSSxFQUFHQSxFQUFJRCxFQUFJN0IsT0FBUThCLEtBQzFCckIsRUFBS29CLEVBQUlDLElBQ05GLElBRUosU0FHSWpCLE1BQUtnQixHQUFHbkMsS0E2SGpCWCxFQUFVMEIsR0FBR1MsS0FBSyxXQUNoQlosRUFBZWIsUUFBVUEsSUE0QzNCVixFQUFVb0MsYUFBYSxXQWlCckIsUUFBU3hCLEdBQUtvQixFQUFNa0IsRUFBS3RCLEdBSXZCLFFBQVN1QixHQUFVQyxHQUlqQixHQUFJQyxNQUFTRCxHQUF3QixTQUFmQSxFQUFNMUQsT0FBaUMsR0FBZjRELEVBQU1DLEtBS3BEN0MsR0FBUXNCLEVBSmdCLFNBQVRBLEdBSVlxQixFQUFVLEdBQUlqQyxTQUFRaUMsR0FBVUEsR0FFdkR6QixHQUNGQSxFQUFHd0IsR0FkUCxHQUFJRSxHQUFRLEdBQUlFLE1Ba0JoQkYsR0FBTUcsUUFBVU4sRUFDaEJHLEVBQU1JLE9BQVNQLEVBRWZHLEVBQU1LLElBQU1ULEVBdENkLEdBQUlVLEtBQ0ZWLElBQU8sc0ZBQ1BsQixLQUFRLFNBRVJrQixJQUFPLDBJQUNQbEIsS0FBUSxlQUVSa0IsSUFBTyxrSkFDUGxCLEtBQVEsbUJBRVJrQixJQUFPLDhFQUNQbEIsS0FBUSxrQkFHTjZCLEVBQU9ELEVBQVVFLE9BNEJyQmxELEdBQUtpRCxFQUFLN0IsS0FBTTZCLEVBQUtYLElBQUssU0FBU2EsR0FFakMsR0FBSUEsR0FBZ0IsU0FBWEEsRUFBRXJFLEtBQ1QsSUFBSyxHQUFJdUQsR0FBSSxFQUFHQSxFQUFJVyxFQUFVekMsT0FBUThCLElBQ3BDckMsRUFBS2dELEVBQVVYLEdBQUdqQixLQUFNNEIsRUFBVVgsR0FBR0MsU0EvYjdDLFdBQ0UsR0FBSWMsR0FDQXJELEVBQ0FzRCxFQUNBWixFQUNBYSxFQUNBQyxFQUNBbkQsQ0FFSixLQUFLLEdBQUlvRCxLQUFjOUMsR0FDckIsR0FBSUEsRUFBTW1CLGVBQWUyQixHQUFhLENBVXBDLEdBVEFKLEtBQ0FyRCxFQUFVVyxFQUFNOEMsR0FRWnpELEVBQVFxQixPQUNWZ0MsRUFBYTdCLEtBQUt4QixFQUFRcUIsS0FBS2pCLGVBRTNCSixFQUFRdUIsU0FBV3ZCLEVBQVF1QixRQUFRbUMsU0FBVzFELEVBQVF1QixRQUFRbUMsUUFBUWxELFFBRXhFLElBQUs4QyxFQUFXLEVBQUdBLEVBQVd0RCxFQUFRdUIsUUFBUW1DLFFBQVFsRCxPQUFROEMsSUFDNURELEVBQWE3QixLQUFLeEIsRUFBUXVCLFFBQVFtQyxRQUFRSixHQUFVbEQsY0FVMUQsS0FKQXNDLEVBQVM3RCxFQUFHbUIsRUFBUXNCLEdBQUksWUFBY3RCLEVBQVFzQixLQUFPdEIsRUFBUXNCLEdBSXhEaUMsRUFBVSxFQUFHQSxFQUFVRixFQUFhN0MsT0FBUStDLElBQy9DQyxFQUFjSCxFQUFhRSxHQU8zQmxELEVBQW1CbUQsRUFBWWxELE1BQU0sS0FFTCxJQUE1QkQsRUFBaUJHLE9BQ25CbkIsRUFBVWdCLEVBQWlCLElBQU1xQyxJQUc3QnJELEVBQVVnQixFQUFpQixLQUFTaEIsRUFBVWdCLEVBQWlCLGFBQWVJLFdBQ2hGcEIsRUFBVWdCLEVBQWlCLElBQU0sR0FBSUksU0FBUXBCLEVBQVVnQixFQUFpQixNQUcxRWhCLEVBQVVnQixFQUFpQixJQUFJQSxFQUFpQixJQUFNcUMsR0FHeER6RCxFQUFRdUMsTUFBTWtCLEVBQVMsR0FBSyxPQUFTckMsRUFBaUJQLEtBQUssVUFtWm5FZCxFQUFXQyxTQUVKMkIsR0FBZWIsY0FDZmEsR0FBZWEsWUFHdEIsS0FBSyxHQUFJYSxHQUFJLEVBQUdBLEVBQUlqRCxFQUFVMEIsR0FBR1AsT0FBUThCLElBQ3ZDakQsRUFBVTBCLEdBQUd1QixJQUlmNUQsR0FBT1csVUFBWUEsR0FFbEJYLE9BQVFDIiwiZmlsZSI6Im1vZGVybml6cl9jdXN0b20uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIG1vZGVybml6ciB2My41LjBcbiAqIEJ1aWxkIGh0dHBzOi8vbW9kZXJuaXpyLmNvbS9kb3dubG9hZD8td2VicC1zZXRjbGFzc2VzLWRvbnRtaW5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpXG4gKiAgRmFydWsgQXRlc1xuICogIFBhdWwgSXJpc2hcbiAqICBBbGV4IFNleHRvblxuICogIFJ5YW4gU2VkZG9uXG4gKiAgUGF0cmljayBLZXR0bmVyXG4gKiAgU3R1IENveFxuICogIFJpY2hhcmQgSGVycmVyYVxuXG4gKiBNSVQgTGljZW5zZVxuICovXG5cbi8qXG4gKiBNb2Rlcm5penIgdGVzdHMgd2hpY2ggbmF0aXZlIENTUzMgYW5kIEhUTUw1IGZlYXR1cmVzIGFyZSBhdmFpbGFibGUgaW4gdGhlXG4gKiBjdXJyZW50IFVBIGFuZCBtYWtlcyB0aGUgcmVzdWx0cyBhdmFpbGFibGUgdG8geW91IGluIHR3byB3YXlzOiBhcyBwcm9wZXJ0aWVzIG9uXG4gKiBhIGdsb2JhbCBgTW9kZXJuaXpyYCBvYmplY3QsIGFuZCBhcyBjbGFzc2VzIG9uIHRoZSBgPGh0bWw+YCBlbGVtZW50LiBUaGlzXG4gKiBpbmZvcm1hdGlvbiBhbGxvd3MgeW91IHRvIHByb2dyZXNzaXZlbHkgZW5oYW5jZSB5b3VyIHBhZ2VzIHdpdGggYSBncmFudWxhciBsZXZlbFxuICogb2YgY29udHJvbCBvdmVyIHRoZSBleHBlcmllbmNlLlxuKi9cblxuOyhmdW5jdGlvbih3aW5kb3csIGRvY3VtZW50LCB1bmRlZmluZWQpe1xuICB2YXIgY2xhc3NlcyA9IFtdO1xuICBcblxuICB2YXIgdGVzdHMgPSBbXTtcbiAgXG5cbiAgLyoqXG4gICAqXG4gICAqIE1vZGVybml6clByb3RvIGlzIHRoZSBjb25zdHJ1Y3RvciBmb3IgTW9kZXJuaXpyXG4gICAqXG4gICAqIEBjbGFzc1xuICAgKiBAYWNjZXNzIHB1YmxpY1xuICAgKi9cblxuICB2YXIgTW9kZXJuaXpyUHJvdG8gPSB7XG4gICAgLy8gVGhlIGN1cnJlbnQgdmVyc2lvbiwgZHVtbXlcbiAgICBfdmVyc2lvbjogJzMuNS4wJyxcblxuICAgIC8vIEFueSBzZXR0aW5ncyB0aGF0IGRvbid0IHdvcmsgYXMgc2VwYXJhdGUgbW9kdWxlc1xuICAgIC8vIGNhbiBnbyBpbiBoZXJlIGFzIGNvbmZpZ3VyYXRpb24uXG4gICAgX2NvbmZpZzoge1xuICAgICAgJ2NsYXNzUHJlZml4JzogJycsXG4gICAgICAnZW5hYmxlQ2xhc3Nlcyc6IHRydWUsXG4gICAgICAnZW5hYmxlSlNDbGFzcyc6IHRydWUsXG4gICAgICAndXNlUHJlZml4ZXMnOiB0cnVlXG4gICAgfSxcblxuICAgIC8vIFF1ZXVlIG9mIHRlc3RzXG4gICAgX3E6IFtdLFxuXG4gICAgLy8gU3R1YiB0aGVzZSBmb3IgcGVvcGxlIHdobyBhcmUgbGlzdGVuaW5nXG4gICAgb246IGZ1bmN0aW9uKHRlc3QsIGNiKSB7XG4gICAgICAvLyBJIGRvbid0IHJlYWxseSB0aGluayBwZW9wbGUgc2hvdWxkIGRvIHRoaXMsIGJ1dCB3ZSBjYW5cbiAgICAgIC8vIHNhZmUgZ3VhcmQgaXQgYSBiaXQuXG4gICAgICAvLyAtLSBOT1RFOjogdGhpcyBnZXRzIFdBWSBvdmVycmlkZGVuIGluIHNyYy9hZGRUZXN0IGZvciBhY3R1YWwgYXN5bmMgdGVzdHMuXG4gICAgICAvLyBUaGlzIGlzIGluIGNhc2UgcGVvcGxlIGxpc3RlbiB0byBzeW5jaHJvbm91cyB0ZXN0cy4gSSB3b3VsZCBsZWF2ZSBpdCBvdXQsXG4gICAgICAvLyBidXQgdGhlIGNvZGUgdG8gKmRpc2FsbG93KiBzeW5jIHRlc3RzIGluIHRoZSByZWFsIHZlcnNpb24gb2YgdGhpc1xuICAgICAgLy8gZnVuY3Rpb24gaXMgYWN0dWFsbHkgbGFyZ2VyIHRoYW4gdGhpcy5cbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIGNiKHNlbGZbdGVzdF0pO1xuICAgICAgfSwgMCk7XG4gICAgfSxcblxuICAgIGFkZFRlc3Q6IGZ1bmN0aW9uKG5hbWUsIGZuLCBvcHRpb25zKSB7XG4gICAgICB0ZXN0cy5wdXNoKHtuYW1lOiBuYW1lLCBmbjogZm4sIG9wdGlvbnM6IG9wdGlvbnN9KTtcbiAgICB9LFxuXG4gICAgYWRkQXN5bmNUZXN0OiBmdW5jdGlvbihmbikge1xuICAgICAgdGVzdHMucHVzaCh7bmFtZTogbnVsbCwgZm46IGZufSk7XG4gICAgfVxuICB9O1xuXG4gIFxuXG4gIC8vIEZha2Ugc29tZSBvZiBPYmplY3QuY3JlYXRlIHNvIHdlIGNhbiBmb3JjZSBub24gdGVzdCByZXN1bHRzIHRvIGJlIG5vbiBcIm93blwiIHByb3BlcnRpZXMuXG4gIHZhciBNb2Rlcm5penIgPSBmdW5jdGlvbigpIHt9O1xuICBNb2Rlcm5penIucHJvdG90eXBlID0gTW9kZXJuaXpyUHJvdG87XG5cbiAgLy8gTGVhayBtb2Rlcm5penIgZ2xvYmFsbHkgd2hlbiB5b3UgYHJlcXVpcmVgIGl0IHJhdGhlciB0aGFuIGZvcmNlIGl0IGhlcmUuXG4gIC8vIE92ZXJ3cml0ZSBuYW1lIHNvIGNvbnN0cnVjdG9yIG5hbWUgaXMgbmljZXIgOkRcbiAgTW9kZXJuaXpyID0gbmV3IE1vZGVybml6cigpO1xuXG4gIFxuXG4gIC8qKlxuICAgKiBpcyByZXR1cm5zIGEgYm9vbGVhbiBpZiB0aGUgdHlwZW9mIGFuIG9iaiBpcyBleGFjdGx5IHR5cGUuXG4gICAqXG4gICAqIEBhY2Nlc3MgcHJpdmF0ZVxuICAgKiBAZnVuY3Rpb24gaXNcbiAgICogQHBhcmFtIHsqfSBvYmogLSBBIHRoaW5nIHdlIHdhbnQgdG8gY2hlY2sgdGhlIHR5cGUgb2ZcbiAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgLSBBIHN0cmluZyB0byBjb21wYXJlIHRoZSB0eXBlb2YgYWdhaW5zdFxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICovXG5cbiAgZnVuY3Rpb24gaXMob2JqLCB0eXBlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBvYmogPT09IHR5cGU7XG4gIH1cblxuICAvKipcbiAgICogUnVuIHRocm91Z2ggYWxsIHRlc3RzIGFuZCBkZXRlY3QgdGhlaXIgc3VwcG9ydCBpbiB0aGUgY3VycmVudCBVQS5cbiAgICpcbiAgICogQGFjY2VzcyBwcml2YXRlXG4gICAqL1xuXG4gIGZ1bmN0aW9uIHRlc3RSdW5uZXIoKSB7XG4gICAgdmFyIGZlYXR1cmVOYW1lcztcbiAgICB2YXIgZmVhdHVyZTtcbiAgICB2YXIgYWxpYXNJZHg7XG4gICAgdmFyIHJlc3VsdDtcbiAgICB2YXIgbmFtZUlkeDtcbiAgICB2YXIgZmVhdHVyZU5hbWU7XG4gICAgdmFyIGZlYXR1cmVOYW1lU3BsaXQ7XG5cbiAgICBmb3IgKHZhciBmZWF0dXJlSWR4IGluIHRlc3RzKSB7XG4gICAgICBpZiAodGVzdHMuaGFzT3duUHJvcGVydHkoZmVhdHVyZUlkeCkpIHtcbiAgICAgICAgZmVhdHVyZU5hbWVzID0gW107XG4gICAgICAgIGZlYXR1cmUgPSB0ZXN0c1tmZWF0dXJlSWR4XTtcbiAgICAgICAgLy8gcnVuIHRoZSB0ZXN0LCB0aHJvdyB0aGUgcmV0dXJuIHZhbHVlIGludG8gdGhlIE1vZGVybml6cixcbiAgICAgICAgLy8gdGhlbiBiYXNlZCBvbiB0aGF0IGJvb2xlYW4sIGRlZmluZSBhbiBhcHByb3ByaWF0ZSBjbGFzc05hbWVcbiAgICAgICAgLy8gYW5kIHB1c2ggaXQgaW50byBhbiBhcnJheSBvZiBjbGFzc2VzIHdlJ2xsIGpvaW4gbGF0ZXIuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIElmIHRoZXJlIGlzIG5vIG5hbWUsIGl0J3MgYW4gJ2FzeW5jJyB0ZXN0IHRoYXQgaXMgcnVuLFxuICAgICAgICAvLyBidXQgbm90IGRpcmVjdGx5IGFkZGVkIHRvIHRoZSBvYmplY3QuIFRoYXQgc2hvdWxkXG4gICAgICAgIC8vIGJlIGRvbmUgd2l0aCBhIHBvc3QtcnVuIGFkZFRlc3QgY2FsbC5cbiAgICAgICAgaWYgKGZlYXR1cmUubmFtZSkge1xuICAgICAgICAgIGZlYXR1cmVOYW1lcy5wdXNoKGZlYXR1cmUubmFtZS50b0xvd2VyQ2FzZSgpKTtcblxuICAgICAgICAgIGlmIChmZWF0dXJlLm9wdGlvbnMgJiYgZmVhdHVyZS5vcHRpb25zLmFsaWFzZXMgJiYgZmVhdHVyZS5vcHRpb25zLmFsaWFzZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBBZGQgYWxsIHRoZSBhbGlhc2VzIGludG8gdGhlIG5hbWVzIGxpc3RcbiAgICAgICAgICAgIGZvciAoYWxpYXNJZHggPSAwOyBhbGlhc0lkeCA8IGZlYXR1cmUub3B0aW9ucy5hbGlhc2VzLmxlbmd0aDsgYWxpYXNJZHgrKykge1xuICAgICAgICAgICAgICBmZWF0dXJlTmFtZXMucHVzaChmZWF0dXJlLm9wdGlvbnMuYWxpYXNlc1thbGlhc0lkeF0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUnVuIHRoZSB0ZXN0LCBvciB1c2UgdGhlIHJhdyB2YWx1ZSBpZiBpdCdzIG5vdCBhIGZ1bmN0aW9uXG4gICAgICAgIHJlc3VsdCA9IGlzKGZlYXR1cmUuZm4sICdmdW5jdGlvbicpID8gZmVhdHVyZS5mbigpIDogZmVhdHVyZS5mbjtcblxuXG4gICAgICAgIC8vIFNldCBlYWNoIG9mIHRoZSBuYW1lcyBvbiB0aGUgTW9kZXJuaXpyIG9iamVjdFxuICAgICAgICBmb3IgKG5hbWVJZHggPSAwOyBuYW1lSWR4IDwgZmVhdHVyZU5hbWVzLmxlbmd0aDsgbmFtZUlkeCsrKSB7XG4gICAgICAgICAgZmVhdHVyZU5hbWUgPSBmZWF0dXJlTmFtZXNbbmFtZUlkeF07XG4gICAgICAgICAgLy8gU3VwcG9ydCBkb3QgcHJvcGVydGllcyBhcyBzdWIgdGVzdHMuIFdlIGRvbid0IGRvIGNoZWNraW5nIHRvIG1ha2Ugc3VyZVxuICAgICAgICAgIC8vIHRoYXQgdGhlIGltcGxpZWQgcGFyZW50IHRlc3RzIGhhdmUgYmVlbiBhZGRlZC4gWW91IG11c3QgY2FsbCB0aGVtIGluXG4gICAgICAgICAgLy8gb3JkZXIgKGVpdGhlciBpbiB0aGUgdGVzdCwgb3IgbWFrZSB0aGUgcGFyZW50IHRlc3QgYSBkZXBlbmRlbmN5KS5cbiAgICAgICAgICAvL1xuICAgICAgICAgIC8vIENhcCBpdCB0byBUV08gdG8gbWFrZSB0aGUgbG9naWMgc2ltcGxlIGFuZCBiZWNhdXNlIHdobyBuZWVkcyB0aGF0IGtpbmQgb2Ygc3VidGVzdGluZ1xuICAgICAgICAgIC8vIGhhc2h0YWcgZmFtb3VzIGxhc3Qgd29yZHNcbiAgICAgICAgICBmZWF0dXJlTmFtZVNwbGl0ID0gZmVhdHVyZU5hbWUuc3BsaXQoJy4nKTtcblxuICAgICAgICAgIGlmIChmZWF0dXJlTmFtZVNwbGl0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dID0gcmVzdWx0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBjYXN0IHRvIGEgQm9vbGVhbiwgaWYgbm90IG9uZSBhbHJlYWR5XG4gICAgICAgICAgICBpZiAoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dICYmICEoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dIGluc3RhbmNlb2YgQm9vbGVhbikpIHtcbiAgICAgICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dID0gbmV3IEJvb2xlYW4oTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dW2ZlYXR1cmVOYW1lU3BsaXRbMV1dID0gcmVzdWx0O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNsYXNzZXMucHVzaCgocmVzdWx0ID8gJycgOiAnbm8tJykgKyBmZWF0dXJlTmFtZVNwbGl0LmpvaW4oJy0nKSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogZG9jRWxlbWVudCBpcyBhIGNvbnZlbmllbmNlIHdyYXBwZXIgdG8gZ3JhYiB0aGUgcm9vdCBlbGVtZW50IG9mIHRoZSBkb2N1bWVudFxuICAgKlxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQHJldHVybnMge0hUTUxFbGVtZW50fFNWR0VsZW1lbnR9IFRoZSByb290IGVsZW1lbnQgb2YgdGhlIGRvY3VtZW50XG4gICAqL1xuXG4gIHZhciBkb2NFbGVtZW50ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICBcblxuICAvKipcbiAgICogQSBjb252ZW5pZW5jZSBoZWxwZXIgdG8gY2hlY2sgaWYgdGhlIGRvY3VtZW50IHdlIGFyZSBydW5uaW5nIGluIGlzIGFuIFNWRyBkb2N1bWVudFxuICAgKlxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuXG4gIHZhciBpc1NWRyA9IGRvY0VsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3N2Zyc7XG4gIFxuXG4gIC8qKlxuICAgKiBzZXRDbGFzc2VzIHRha2VzIGFuIGFycmF5IG9mIGNsYXNzIG5hbWVzIGFuZCBhZGRzIHRoZW0gdG8gdGhlIHJvb3QgZWxlbWVudFxuICAgKlxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQGZ1bmN0aW9uIHNldENsYXNzZXNcbiAgICogQHBhcmFtIHtzdHJpbmdbXX0gY2xhc3NlcyAtIEFycmF5IG9mIGNsYXNzIG5hbWVzXG4gICAqL1xuXG4gIC8vIFBhc3MgaW4gYW4gYW5kIGFycmF5IG9mIGNsYXNzIG5hbWVzLCBlLmcuOlxuICAvLyAgWyduby13ZWJwJywgJ2JvcmRlcnJhZGl1cycsIC4uLl1cbiAgZnVuY3Rpb24gc2V0Q2xhc3NlcyhjbGFzc2VzKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9IGRvY0VsZW1lbnQuY2xhc3NOYW1lO1xuICAgIHZhciBjbGFzc1ByZWZpeCA9IE1vZGVybml6ci5fY29uZmlnLmNsYXNzUHJlZml4IHx8ICcnO1xuXG4gICAgaWYgKGlzU1ZHKSB7XG4gICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUuYmFzZVZhbDtcbiAgICB9XG5cbiAgICAvLyBDaGFuZ2UgYG5vLWpzYCB0byBganNgIChpbmRlcGVuZGVudGx5IG9mIHRoZSBgZW5hYmxlQ2xhc3Nlc2Agb3B0aW9uKVxuICAgIC8vIEhhbmRsZSBjbGFzc1ByZWZpeCBvbiB0aGlzIHRvb1xuICAgIGlmIChNb2Rlcm5penIuX2NvbmZpZy5lbmFibGVKU0NsYXNzKSB7XG4gICAgICB2YXIgcmVKUyA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBjbGFzc1ByZWZpeCArICduby1qcyhcXFxcc3wkKScpO1xuICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnJlcGxhY2UocmVKUywgJyQxJyArIGNsYXNzUHJlZml4ICsgJ2pzJDInKTtcbiAgICB9XG5cbiAgICBpZiAoTW9kZXJuaXpyLl9jb25maWcuZW5hYmxlQ2xhc3Nlcykge1xuICAgICAgLy8gQWRkIHRoZSBuZXcgY2xhc3Nlc1xuICAgICAgY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzUHJlZml4ICsgY2xhc3Nlcy5qb2luKCcgJyArIGNsYXNzUHJlZml4KTtcbiAgICAgIGlmIChpc1NWRykge1xuICAgICAgICBkb2NFbGVtZW50LmNsYXNzTmFtZS5iYXNlVmFsID0gY2xhc3NOYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jRWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICAvKipcbiAgICogaGFzT3duUHJvcCBpcyBhIHNoaW0gZm9yIGhhc093blByb3BlcnR5IHRoYXQgaXMgbmVlZGVkIGZvciBTYWZhcmkgMi4wIHN1cHBvcnRcbiAgICpcbiAgICogQGF1dGhvciBrYW5nYXhcbiAgICogQGFjY2VzcyBwcml2YXRlXG4gICAqIEBmdW5jdGlvbiBoYXNPd25Qcm9wXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBvYmplY3QgLSBUaGUgb2JqZWN0IHRvIGNoZWNrIGZvciBhIHByb3BlcnR5XG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwcm9wZXJ0eSAtIFRoZSBwcm9wZXJ0eSB0byBjaGVjayBmb3JcbiAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAqL1xuXG4gIC8vIGhhc093blByb3BlcnR5IHNoaW0gYnkga2FuZ2F4IG5lZWRlZCBmb3IgU2FmYXJpIDIuMCBzdXBwb3J0XG4gIHZhciBoYXNPd25Qcm9wO1xuXG4gIChmdW5jdGlvbigpIHtcbiAgICB2YXIgX2hhc093blByb3BlcnR5ID0gKHt9KS5oYXNPd25Qcm9wZXJ0eTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIC8qIHdlIGhhdmUgbm8gd2F5IG9mIHRlc3RpbmcgSUUgNS41IG9yIHNhZmFyaSAyLFxuICAgICAqIHNvIGp1c3QgYXNzdW1lIHRoZSBlbHNlIGdldHMgaGl0ICovXG4gICAgaWYgKCFpcyhfaGFzT3duUHJvcGVydHksICd1bmRlZmluZWQnKSAmJiAhaXMoX2hhc093blByb3BlcnR5LmNhbGwsICd1bmRlZmluZWQnKSkge1xuICAgICAgaGFzT3duUHJvcCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICAgICAgcmV0dXJuIF9oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBoYXNPd25Qcm9wID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyAvKiB5ZXMsIHRoaXMgY2FuIGdpdmUgZmFsc2UgcG9zaXRpdmVzL25lZ2F0aXZlcywgYnV0IG1vc3Qgb2YgdGhlIHRpbWUgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aG9zZSAqL1xuICAgICAgICByZXR1cm4gKChwcm9wZXJ0eSBpbiBvYmplY3QpICYmIGlzKG9iamVjdC5jb25zdHJ1Y3Rvci5wcm90b3R5cGVbcHJvcGVydHldLCAndW5kZWZpbmVkJykpO1xuICAgICAgfTtcbiAgICB9XG4gIH0pKCk7XG5cbiAgXG5cblxuICAgLy8gX2wgdHJhY2tzIGxpc3RlbmVycyBmb3IgYXN5bmMgdGVzdHMsIGFzIHdlbGwgYXMgdGVzdHMgdGhhdCBleGVjdXRlIGFmdGVyIHRoZSBpbml0aWFsIHJ1blxuICBNb2Rlcm5penJQcm90by5fbCA9IHt9O1xuXG4gIC8qKlxuICAgKiBNb2Rlcm5penIub24gaXMgYSB3YXkgdG8gbGlzdGVuIGZvciB0aGUgY29tcGxldGlvbiBvZiBhc3luYyB0ZXN0cy4gQmVpbmdcbiAgICogYXN5bmNocm9ub3VzLCB0aGV5IG1heSBub3QgZmluaXNoIGJlZm9yZSB5b3VyIHNjcmlwdHMgcnVuLiBBcyBhIHJlc3VsdCB5b3VcbiAgICogd2lsbCBnZXQgYSBwb3NzaWJseSBmYWxzZSBuZWdhdGl2ZSBgdW5kZWZpbmVkYCB2YWx1ZS5cbiAgICpcbiAgICogQG1lbWJlcm9mIE1vZGVybml6clxuICAgKiBAbmFtZSBNb2Rlcm5penIub25cbiAgICogQGFjY2VzcyBwdWJsaWNcbiAgICogQGZ1bmN0aW9uIG9uXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlIC0gU3RyaW5nIG5hbWUgb2YgdGhlIGZlYXR1cmUgZGV0ZWN0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gQ2FsbGJhY2sgZnVuY3Rpb24gcmV0dXJuaW5nIGEgQm9vbGVhbiAtIHRydWUgaWYgZmVhdHVyZSBpcyBzdXBwb3J0ZWQsIGZhbHNlIGlmIG5vdFxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBNb2Rlcm5penIub24oJ2ZsYXNoJywgZnVuY3Rpb24oIHJlc3VsdCApIHtcbiAgICogICBpZiAocmVzdWx0KSB7XG4gICAqICAgIC8vIHRoZSBicm93c2VyIGhhcyBmbGFzaFxuICAgKiAgIH0gZWxzZSB7XG4gICAqICAgICAvLyB0aGUgYnJvd3NlciBkb2VzIG5vdCBoYXZlIGZsYXNoXG4gICAqICAgfVxuICAgKiB9KTtcbiAgICogYGBgXG4gICAqL1xuXG4gIE1vZGVybml6clByb3RvLm9uID0gZnVuY3Rpb24oZmVhdHVyZSwgY2IpIHtcbiAgICAvLyBDcmVhdGUgdGhlIGxpc3Qgb2YgbGlzdGVuZXJzIGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBpZiAoIXRoaXMuX2xbZmVhdHVyZV0pIHtcbiAgICAgIHRoaXMuX2xbZmVhdHVyZV0gPSBbXTtcbiAgICB9XG5cbiAgICAvLyBQdXNoIHRoaXMgdGVzdCBvbiB0byB0aGUgbGlzdGVuZXIgbGlzdFxuICAgIHRoaXMuX2xbZmVhdHVyZV0ucHVzaChjYik7XG5cbiAgICAvLyBJZiBpdCdzIGFscmVhZHkgYmVlbiByZXNvbHZlZCwgdHJpZ2dlciBpdCBvbiBuZXh0IHRpY2tcbiAgICBpZiAoTW9kZXJuaXpyLmhhc093blByb3BlcnR5KGZlYXR1cmUpKSB7XG4gICAgICAvLyBOZXh0IFRpY2tcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIE1vZGVybml6ci5fdHJpZ2dlcihmZWF0dXJlLCBNb2Rlcm5penJbZmVhdHVyZV0pO1xuICAgICAgfSwgMCk7XG4gICAgfVxuICB9O1xuXG4gIC8qKlxuICAgKiBfdHJpZ2dlciBpcyB0aGUgcHJpdmF0ZSBmdW5jdGlvbiB1c2VkIHRvIHNpZ25hbCB0ZXN0IGNvbXBsZXRpb24gYW5kIHJ1biBhbnlcbiAgICogY2FsbGJhY2tzIHJlZ2lzdGVyZWQgdGhyb3VnaCBbTW9kZXJuaXpyLm9uXSgjbW9kZXJuaXpyLW9uKVxuICAgKlxuICAgKiBAbWVtYmVyb2YgTW9kZXJuaXpyXG4gICAqIEBuYW1lIE1vZGVybml6ci5fdHJpZ2dlclxuICAgKiBAYWNjZXNzIHByaXZhdGVcbiAgICogQGZ1bmN0aW9uIF90cmlnZ2VyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBmZWF0dXJlIC0gc3RyaW5nIG5hbWUgb2YgdGhlIGZlYXR1cmUgZGV0ZWN0XG4gICAqIEBwYXJhbSB7ZnVuY3Rpb258Ym9vbGVhbn0gW3Jlc10gLSBBIGZlYXR1cmUgZGV0ZWN0aW9uIGZ1bmN0aW9uLCBvciB0aGUgYm9vbGVhbiA9XG4gICAqIHJlc3VsdCBvZiBhIGZlYXR1cmUgZGV0ZWN0aW9uIGZ1bmN0aW9uXG4gICAqL1xuXG4gIE1vZGVybml6clByb3RvLl90cmlnZ2VyID0gZnVuY3Rpb24oZmVhdHVyZSwgcmVzKSB7XG4gICAgaWYgKCF0aGlzLl9sW2ZlYXR1cmVdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGNicyA9IHRoaXMuX2xbZmVhdHVyZV07XG5cbiAgICAvLyBGb3JjZSBhc3luY1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaSwgY2I7XG4gICAgICBmb3IgKGkgPSAwOyBpIDwgY2JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNiID0gY2JzW2ldO1xuICAgICAgICBjYihyZXMpO1xuICAgICAgfVxuICAgIH0sIDApO1xuXG4gICAgLy8gRG9uJ3QgdHJpZ2dlciB0aGVzZSBhZ2FpblxuICAgIGRlbGV0ZSB0aGlzLl9sW2ZlYXR1cmVdO1xuICB9O1xuXG4gIC8qKlxuICAgKiBhZGRUZXN0IGFsbG93cyB5b3UgdG8gZGVmaW5lIHlvdXIgb3duIGZlYXR1cmUgZGV0ZWN0cyB0aGF0IGFyZSBub3QgY3VycmVudGx5XG4gICAqIGluY2x1ZGVkIGluIE1vZGVybml6ciAodW5kZXIgdGhlIGNvdmVycyBpdCdzIHRoZSBleGFjdCBzYW1lIGNvZGUgTW9kZXJuaXpyXG4gICAqIHVzZXMgZm9yIGl0cyBvd24gW2ZlYXR1cmUgZGV0ZWN0aW9uc10oaHR0cHM6Ly9naXRodWIuY29tL01vZGVybml6ci9Nb2Rlcm5penIvdHJlZS9tYXN0ZXIvZmVhdHVyZS1kZXRlY3RzKSkuIEp1c3QgbGlrZSB0aGUgb2ZmaWNhbCBkZXRlY3RzLCB0aGUgcmVzdWx0XG4gICAqIHdpbGwgYmUgYWRkZWQgb250byB0aGUgTW9kZXJuaXpyIG9iamVjdCwgYXMgd2VsbCBhcyBhbiBhcHByb3ByaWF0ZSBjbGFzc05hbWUgc2V0IG9uXG4gICAqIHRoZSBodG1sIGVsZW1lbnQgd2hlbiBjb25maWd1cmVkIHRvIGRvIHNvXG4gICAqXG4gICAqIEBtZW1iZXJvZiBNb2Rlcm5penJcbiAgICogQG5hbWUgTW9kZXJuaXpyLmFkZFRlc3RcbiAgICogQG9wdGlvbk5hbWUgTW9kZXJuaXpyLmFkZFRlc3QoKVxuICAgKiBAb3B0aW9uUHJvcCBhZGRUZXN0XG4gICAqIEBhY2Nlc3MgcHVibGljXG4gICAqIEBmdW5jdGlvbiBhZGRUZXN0XG4gICAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gZmVhdHVyZSAtIFRoZSBzdHJpbmcgbmFtZSBvZiB0aGUgZmVhdHVyZSBkZXRlY3QsIG9yIGFuXG4gICAqIG9iamVjdCBvZiBmZWF0dXJlIGRldGVjdCBuYW1lcyBhbmQgdGVzdFxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufGJvb2xlYW59IHRlc3QgLSBGdW5jdGlvbiByZXR1cm5pbmcgdHJ1ZSBpZiBmZWF0dXJlIGlzIHN1cHBvcnRlZCxcbiAgICogZmFsc2UgaWYgbm90LiBPdGhlcndpc2UgYSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0cyBvZiBhIGZlYXR1cmUgZGV0ZWN0aW9uXG4gICAqIEBleGFtcGxlXG4gICAqXG4gICAqIFRoZSBtb3N0IGNvbW1vbiB3YXkgb2YgY3JlYXRpbmcgeW91ciBvd24gZmVhdHVyZSBkZXRlY3RzIGlzIGJ5IGNhbGxpbmdcbiAgICogYE1vZGVybml6ci5hZGRUZXN0YCB3aXRoIGEgc3RyaW5nIChwcmVmZXJhYmx5IGp1c3QgbG93ZXJjYXNlLCB3aXRob3V0IGFueVxuICAgKiBwdW5jdHVhdGlvbiksIGFuZCBhIGZ1bmN0aW9uIHlvdSB3YW50IGV4ZWN1dGVkIHRoYXQgd2lsbCByZXR1cm4gYSBib29sZWFuIHJlc3VsdFxuICAgKlxuICAgKiBgYGBqc1xuICAgKiBNb2Rlcm5penIuYWRkVGVzdCgnaXRzVHVlc2RheScsIGZ1bmN0aW9uKCkge1xuICAgKiAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgKiAgcmV0dXJuIGQuZ2V0RGF5KCkgPT09IDI7XG4gICAqIH0pO1xuICAgKiBgYGBcbiAgICpcbiAgICogV2hlbiB0aGUgYWJvdmUgaXMgcnVuLCBpdCB3aWxsIHNldCBNb2Rlcm5penIuaXRzdHVlc2RheSB0byBgdHJ1ZWAgd2hlbiBpdCBpcyB0dWVzZGF5LFxuICAgKiBhbmQgdG8gYGZhbHNlYCBldmVyeSBvdGhlciBkYXkgb2YgdGhlIHdlZWsuIE9uZSB0aGluZyB0byBub3RpY2UgaXMgdGhhdCB0aGUgbmFtZXMgb2ZcbiAgICogZmVhdHVyZSBkZXRlY3QgZnVuY3Rpb25zIGFyZSBhbHdheXMgbG93ZXJjYXNlZCB3aGVuIGFkZGVkIHRvIHRoZSBNb2Rlcm5penIgb2JqZWN0LiBUaGF0XG4gICAqIG1lYW5zIHRoYXQgYE1vZGVybml6ci5pdHNUdWVzZGF5YCB3aWxsIG5vdCBleGlzdCwgYnV0IGBNb2Rlcm5penIuaXRzdHVlc2RheWAgd2lsbC5cbiAgICpcbiAgICpcbiAgICogIFNpbmNlIHdlIG9ubHkgbG9vayBhdCB0aGUgcmV0dXJuZWQgdmFsdWUgZnJvbSBhbnkgZmVhdHVyZSBkZXRlY3Rpb24gZnVuY3Rpb24sXG4gICAqICB5b3UgZG8gbm90IG5lZWQgdG8gYWN0dWFsbHkgdXNlIGEgZnVuY3Rpb24uIEZvciBzaW1wbGUgZGV0ZWN0aW9ucywganVzdCBwYXNzaW5nXG4gICAqICBpbiBhIHN0YXRlbWVudCB0aGF0IHdpbGwgcmV0dXJuIGEgYm9vbGVhbiB2YWx1ZSB3b3JrcyBqdXN0IGZpbmUuXG4gICAqXG4gICAqIGBgYGpzXG4gICAqIE1vZGVybml6ci5hZGRUZXN0KCdoYXNKcXVlcnknLCAnalF1ZXJ5JyBpbiB3aW5kb3cpO1xuICAgKiBgYGBcbiAgICpcbiAgICogSnVzdCBsaWtlIGJlZm9yZSwgd2hlbiB0aGUgYWJvdmUgcnVucyBgTW9kZXJuaXpyLmhhc2pxdWVyeWAgd2lsbCBiZSB0cnVlIGlmXG4gICAqIGpRdWVyeSBoYXMgYmVlbiBpbmNsdWRlZCBvbiB0aGUgcGFnZS4gTm90IHVzaW5nIGEgZnVuY3Rpb24gc2F2ZXMgYSBzbWFsbCBhbW91bnRcbiAgICogb2Ygb3ZlcmhlYWQgZm9yIHRoZSBicm93c2VyLCBhcyB3ZWxsIGFzIG1ha2luZyB5b3VyIGNvZGUgbXVjaCBtb3JlIHJlYWRhYmxlLlxuICAgKlxuICAgKiBGaW5hbGx5LCB5b3UgYWxzbyBoYXZlIHRoZSBhYmlsaXR5IHRvIHBhc3MgaW4gYW4gb2JqZWN0IG9mIGZlYXR1cmUgbmFtZXMgYW5kXG4gICAqIHRoZWlyIHRlc3RzLiBUaGlzIGlzIGhhbmR5IGlmIHlvdSB3YW50IHRvIGFkZCBtdWx0aXBsZSBkZXRlY3Rpb25zIGluIG9uZSBnby5cbiAgICogVGhlIGtleXMgc2hvdWxkIGFsd2F5cyBiZSBhIHN0cmluZywgYW5kIHRoZSB2YWx1ZSBjYW4gYmUgZWl0aGVyIGEgYm9vbGVhbiBvclxuICAgKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSBib29sZWFuLlxuICAgKlxuICAgKiBgYGBqc1xuICAgKiB2YXIgZGV0ZWN0cyA9IHtcbiAgICogICdoYXNqcXVlcnknOiAnalF1ZXJ5JyBpbiB3aW5kb3csXG4gICAqICAnaXRzdHVlc2RheSc6IGZ1bmN0aW9uKCkge1xuICAgKiAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XG4gICAqICAgIHJldHVybiBkLmdldERheSgpID09PSAyO1xuICAgKiAgfVxuICAgKiB9XG4gICAqXG4gICAqIE1vZGVybml6ci5hZGRUZXN0KGRldGVjdHMpO1xuICAgKiBgYGBcbiAgICpcbiAgICogVGhlcmUgaXMgcmVhbGx5IG5vIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUgZmlyc3QgbWV0aG9kcyBhbmQgdGhpcyBvbmUsIGl0IGlzXG4gICAqIGp1c3QgYSBjb252ZW5pZW5jZSB0byBsZXQgeW91IHdyaXRlIG1vcmUgcmVhZGFibGUgY29kZS5cbiAgICovXG5cbiAgZnVuY3Rpb24gYWRkVGVzdChmZWF0dXJlLCB0ZXN0KSB7XG5cbiAgICBpZiAodHlwZW9mIGZlYXR1cmUgPT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIGtleSBpbiBmZWF0dXJlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wKGZlYXR1cmUsIGtleSkpIHtcbiAgICAgICAgICBhZGRUZXN0KGtleSwgZmVhdHVyZVsga2V5IF0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcblxuICAgICAgZmVhdHVyZSA9IGZlYXR1cmUudG9Mb3dlckNhc2UoKTtcbiAgICAgIHZhciBmZWF0dXJlTmFtZVNwbGl0ID0gZmVhdHVyZS5zcGxpdCgnLicpO1xuICAgICAgdmFyIGxhc3QgPSBNb2Rlcm5penJbZmVhdHVyZU5hbWVTcGxpdFswXV07XG5cbiAgICAgIC8vIEFnYWluLCB3ZSBkb24ndCBjaGVjayBmb3IgcGFyZW50IHRlc3QgZXhpc3RlbmNlLiBHZXQgdGhhdCByaWdodCwgdGhvdWdoLlxuICAgICAgaWYgKGZlYXR1cmVOYW1lU3BsaXQubGVuZ3RoID09IDIpIHtcbiAgICAgICAgbGFzdCA9IGxhc3RbZmVhdHVyZU5hbWVTcGxpdFsxXV07XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgbGFzdCAhPSAndW5kZWZpbmVkJykge1xuICAgICAgICAvLyB3ZSdyZSBnb2luZyB0byBxdWl0IGlmIHlvdSdyZSB0cnlpbmcgdG8gb3ZlcndyaXRlIGFuIGV4aXN0aW5nIHRlc3RcbiAgICAgICAgLy8gaWYgd2Ugd2VyZSB0byBhbGxvdyBpdCwgd2UnZCBkbyB0aGlzOlxuICAgICAgICAvLyAgIHZhciByZSA9IG5ldyBSZWdFeHAoXCJcXFxcYihuby0pP1wiICsgZmVhdHVyZSArIFwiXFxcXGJcIik7XG4gICAgICAgIC8vICAgZG9jRWxlbWVudC5jbGFzc05hbWUgPSBkb2NFbGVtZW50LmNsYXNzTmFtZS5yZXBsYWNlKCByZSwgJycgKTtcbiAgICAgICAgLy8gYnV0LCBubyBybHksIHN0dWZmICdlbS5cbiAgICAgICAgcmV0dXJuIE1vZGVybml6cjtcbiAgICAgIH1cblxuICAgICAgdGVzdCA9IHR5cGVvZiB0ZXN0ID09ICdmdW5jdGlvbicgPyB0ZXN0KCkgOiB0ZXN0O1xuXG4gICAgICAvLyBTZXQgdGhlIHZhbHVlICh0aGlzIGlzIHRoZSBtYWdpYywgcmlnaHQgaGVyZSkuXG4gICAgICBpZiAoZmVhdHVyZU5hbWVTcGxpdC5sZW5ndGggPT0gMSkge1xuICAgICAgICBNb2Rlcm5penJbZmVhdHVyZU5hbWVTcGxpdFswXV0gPSB0ZXN0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gY2FzdCB0byBhIEJvb2xlYW4sIGlmIG5vdCBvbmUgYWxyZWFkeVxuICAgICAgICBpZiAoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dICYmICEoTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dIGluc3RhbmNlb2YgQm9vbGVhbikpIHtcbiAgICAgICAgICBNb2Rlcm5penJbZmVhdHVyZU5hbWVTcGxpdFswXV0gPSBuZXcgQm9vbGVhbihNb2Rlcm5penJbZmVhdHVyZU5hbWVTcGxpdFswXV0pO1xuICAgICAgICB9XG5cbiAgICAgICAgTW9kZXJuaXpyW2ZlYXR1cmVOYW1lU3BsaXRbMF1dW2ZlYXR1cmVOYW1lU3BsaXRbMV1dID0gdGVzdDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IGEgc2luZ2xlIGNsYXNzIChlaXRoZXIgYGZlYXR1cmVgIG9yIGBuby1mZWF0dXJlYClcbiAgICAgIHNldENsYXNzZXMoWyghIXRlc3QgJiYgdGVzdCAhPSBmYWxzZSA/ICcnIDogJ25vLScpICsgZmVhdHVyZU5hbWVTcGxpdC5qb2luKCctJyldKTtcblxuICAgICAgLy8gVHJpZ2dlciB0aGUgZXZlbnRcbiAgICAgIE1vZGVybml6ci5fdHJpZ2dlcihmZWF0dXJlLCB0ZXN0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gTW9kZXJuaXpyOyAvLyBhbGxvdyBjaGFpbmluZy5cbiAgfVxuXG4gIC8vIEFmdGVyIGFsbCB0aGUgdGVzdHMgYXJlIHJ1biwgYWRkIHNlbGYgdG8gdGhlIE1vZGVybml6ciBwcm90b3R5cGVcbiAgTW9kZXJuaXpyLl9xLnB1c2goZnVuY3Rpb24oKSB7XG4gICAgTW9kZXJuaXpyUHJvdG8uYWRkVGVzdCA9IGFkZFRlc3Q7XG4gIH0pO1xuXG4gIFxuXG4vKiFcbntcbiAgXCJuYW1lXCI6IFwiV2VicFwiLFxuICBcImFzeW5jXCI6IHRydWUsXG4gIFwicHJvcGVydHlcIjogXCJ3ZWJwXCIsXG4gIFwidGFnc1wiOiBbXCJpbWFnZVwiXSxcbiAgXCJidWlsZGVyQWxpYXNlc1wiOiBbXCJpbWdfd2VicFwiXSxcbiAgXCJhdXRob3JzXCI6IFtcIktyaXN0ZXIgS2FyaVwiLCBcIkBhbWFuZGVlcFwiLCBcIlJpY2ggQnJhZHNoYXdcIiwgXCJSeWFuIFNlZGRvblwiLCBcIlBhdWwgSXJpc2hcIl0sXG4gIFwibm90ZXNcIjogW3tcbiAgICBcIm5hbWVcIjogXCJXZWJwIEluZm9cIixcbiAgICBcImhyZWZcIjogXCJodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS9zcGVlZC93ZWJwL1wiXG4gIH0sIHtcbiAgICBcIm5hbWVcIjogXCJDaG9ybWl1bSBibG9nIC0gQ2hyb21lIDMyIEJldGE6IEFuaW1hdGVkIFdlYlAgaW1hZ2VzIGFuZCBmYXN0ZXIgQ2hyb21lIGZvciBBbmRyb2lkIHRvdWNoIGlucHV0XCIsXG4gICAgXCJocmVmXCI6IFwiaHR0cHM6Ly9ibG9nLmNocm9taXVtLm9yZy8yMDEzLzExL2Nocm9tZS0zMi1iZXRhLWFuaW1hdGVkLXdlYnAtaW1hZ2VzLWFuZC5odG1sXCJcbiAgfSwge1xuICAgIFwibmFtZVwiOiBcIldlYnAgTG9zc2xlc3MgU3BlY1wiLFxuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3NwZWVkL3dlYnAvZG9jcy93ZWJwX2xvc3NsZXNzX2JpdHN0cmVhbV9zcGVjaWZpY2F0aW9uXCJcbiAgfSwge1xuICAgIFwibmFtZVwiOiBcIkFydGljbGUgYWJvdXQgV2ViUCBzdXBwb3J0IG9uIEFuZHJvaWQgYnJvd3NlcnNcIixcbiAgICBcImhyZWZcIjogXCJodHRwOi8vd3d3LndvcGUtZnJhbWV3b3JrLmNvbS9lbi8yMDEzLzA2LzI0L3dlYnAtc3VwcG9ydC1vbi1hbmRyb2lkLWJyb3dzZXJzL1wiXG4gIH0sIHtcbiAgICBcIm5hbWVcIjogXCJDaG9ybWl1bSBXZWJQIGFubm91bmNlbWVudFwiLFxuICAgIFwiaHJlZlwiOiBcImh0dHBzOi8vYmxvZy5jaHJvbWl1bS5vcmcvMjAxMS8xMS9sb3NzbGVzcy1hbmQtdHJhbnNwYXJlbmN5LWVuY29kaW5nLWluLmh0bWw/bT0xXCJcbiAgfV1cbn1cbiEqL1xuLyogRE9DXG5UZXN0cyBmb3IgbG9zc3ksIG5vbi1hbHBoYSB3ZWJwIHN1cHBvcnQuXG5cblRlc3RzIGZvciBhbGwgZm9ybXMgb2Ygd2VicCBzdXBwb3J0IChsb3NzbGVzcywgbG9zc3ksIGFscGhhLCBhbmQgYW5pbWF0ZWQpLi5cblxuICBNb2Rlcm5penIud2VicCAgICAgICAgICAgICAgLy8gQmFzaWMgc3VwcG9ydCAobG9zc3kpXG4gIE1vZGVybml6ci53ZWJwLmxvc3NsZXNzICAgICAvLyBMb3NzbGVzc1xuICBNb2Rlcm5penIud2VicC5hbHBoYSAgICAgICAgLy8gQWxwaGEgKGJvdGggbG9zc3kgYW5kIGxvc3NsZXNzKVxuICBNb2Rlcm5penIud2VicC5hbmltYXRpb24gICAgLy8gQW5pbWF0ZWQgV2ViUFxuXG4qL1xuXG5cbiAgTW9kZXJuaXpyLmFkZEFzeW5jVGVzdChmdW5jdGlvbigpIHtcblxuICAgIHZhciB3ZWJwVGVzdHMgPSBbe1xuICAgICAgJ3VyaSc6ICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSaVFBQUFCWFJVSlFWbEE0SUJnQUFBQXdBUUNkQVNvQkFBRUFBd0EwSmFRQUEzQUEvdnVVQUFBPScsXG4gICAgICAnbmFtZSc6ICd3ZWJwJ1xuICAgIH0sIHtcbiAgICAgICd1cmknOiAnZGF0YTppbWFnZS93ZWJwO2Jhc2U2NCxVa2xHUmtvQUFBQlhSVUpRVmxBNFdBb0FBQUFRQUFBQUFBQUFBQUFBUVV4UVNBd0FBQUFCQnhBUi9ROUVSUDhEQUFCV1VEZ2dHQUFBQURBQkFKMEJLZ0VBQVFBREFEUWxwQUFEY0FEKysvMVFBQT09JyxcbiAgICAgICduYW1lJzogJ3dlYnAuYWxwaGEnXG4gICAgfSwge1xuICAgICAgJ3VyaSc6ICdkYXRhOmltYWdlL3dlYnA7YmFzZTY0LFVrbEdSbElBQUFCWFJVSlFWbEE0V0FvQUFBQVNBQUFBQUFBQUFBQUFRVTVKVFFZQUFBRC8vLy8vQUFCQlRrMUdKZ0FBQUFBQUFBQUFBQUFBQUFBQUFHUUFBQUJXVURoTURRQUFBQzhBQUFBUUJ4QVJFWWlJL2djQScsXG4gICAgICAnbmFtZSc6ICd3ZWJwLmFuaW1hdGlvbidcbiAgICB9LCB7XG4gICAgICAndXJpJzogJ2RhdGE6aW1hZ2Uvd2VicDtiYXNlNjQsVWtsR1JoNEFBQUJYUlVKUVZsQTRUQkVBQUFBdkFBQUFBQWZRLy83M3YvK0JpT2gvQUFBPScsXG4gICAgICAnbmFtZSc6ICd3ZWJwLmxvc3NsZXNzJ1xuICAgIH1dO1xuXG4gICAgdmFyIHdlYnAgPSB3ZWJwVGVzdHMuc2hpZnQoKTtcbiAgICBmdW5jdGlvbiB0ZXN0KG5hbWUsIHVyaSwgY2IpIHtcblxuICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgIGZ1bmN0aW9uIGFkZFJlc3VsdChldmVudCkge1xuICAgICAgICAvLyBpZiB0aGUgZXZlbnQgaXMgZnJvbSAnb25sb2FkJywgY2hlY2sgdGhlIHNlZSBpZiB0aGUgaW1hZ2UncyB3aWR0aCBpc1xuICAgICAgICAvLyAxIHBpeGVsICh3aGljaCBpbmRpY2lhdGVzIHN1cHBvcnQpLiBvdGhlcndpc2UsIGl0IGZhaWxzXG5cbiAgICAgICAgdmFyIHJlc3VsdCA9IGV2ZW50ICYmIGV2ZW50LnR5cGUgPT09ICdsb2FkJyA/IGltYWdlLndpZHRoID09IDEgOiBmYWxzZTtcbiAgICAgICAgdmFyIGJhc2VUZXN0ID0gbmFtZSA9PT0gJ3dlYnAnO1xuXG4gICAgICAgIC8vIGlmIGl0IGlzIHRoZSBiYXNlIHRlc3QsIGFuZCB0aGUgcmVzdWx0IGlzIGZhbHNlLCBqdXN0IHNldCBhIGxpdGVyYWwgZmFsc2VcbiAgICAgICAgLy8gcmF0aGVyIHRoYW4gdXNlIHRoZSBCb29sZWFuIGNvbnRyc3VjdG9yXG4gICAgICAgIGFkZFRlc3QobmFtZSwgKGJhc2VUZXN0ICYmIHJlc3VsdCkgPyBuZXcgQm9vbGVhbihyZXN1bHQpIDogcmVzdWx0KTtcblxuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICBjYihldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaW1hZ2Uub25lcnJvciA9IGFkZFJlc3VsdDtcbiAgICAgIGltYWdlLm9ubG9hZCA9IGFkZFJlc3VsdDtcblxuICAgICAgaW1hZ2Uuc3JjID0gdXJpO1xuICAgIH1cblxuICAgIC8vIHRlc3QgZm9yIHdlYnAgc3VwcG9ydCBpbiBnZW5lcmFsXG4gICAgdGVzdCh3ZWJwLm5hbWUsIHdlYnAudXJpLCBmdW5jdGlvbihlKSB7XG4gICAgICAvLyBpZiB0aGUgd2VicCB0ZXN0IGxvYWRlZCwgdGVzdCBldmVyeXRoaW5nIGVsc2UuXG4gICAgICBpZiAoZSAmJiBlLnR5cGUgPT09ICdsb2FkJykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdlYnBUZXN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHRlc3Qod2VicFRlc3RzW2ldLm5hbWUsIHdlYnBUZXN0c1tpXS51cmkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSk7XG5cblxuXG4gIC8vIFJ1biBlYWNoIHRlc3RcbiAgdGVzdFJ1bm5lcigpO1xuXG4gIC8vIFJlbW92ZSB0aGUgXCJuby1qc1wiIGNsYXNzIGlmIGl0IGV4aXN0c1xuICBzZXRDbGFzc2VzKGNsYXNzZXMpO1xuXG4gIGRlbGV0ZSBNb2Rlcm5penJQcm90by5hZGRUZXN0O1xuICBkZWxldGUgTW9kZXJuaXpyUHJvdG8uYWRkQXN5bmNUZXN0O1xuXG4gIC8vIFJ1biB0aGUgdGhpbmdzIHRoYXQgYXJlIHN1cHBvc2VkIHRvIHJ1biBhZnRlciB0aGUgdGVzdHNcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBNb2Rlcm5penIuX3EubGVuZ3RoOyBpKyspIHtcbiAgICBNb2Rlcm5penIuX3FbaV0oKTtcbiAgfVxuXG4gIC8vIExlYWsgTW9kZXJuaXpyIG5hbWVzcGFjZVxuICB3aW5kb3cuTW9kZXJuaXpyID0gTW9kZXJuaXpyO1xuXG59KSh3aW5kb3csIGRvY3VtZW50KTsiXX0=
